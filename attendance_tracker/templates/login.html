{% extends "base.html" %}

<!-- Page title -->
{{title}}

<!-- Page content -->
{% block content %}

<!-- main container -->
<main class="flex-1 flex items-center justify-center px-6 py-8 bg-gray-50">

  <!-- card for entire login element -->
  <div class="w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 ">

    <!-- User not logged in -->
    {% if not authenticated %}
    <h2 class="text-3xl text-gray-900 mb-6 text-center font-semibold">Sign In</h2>

    <!-- Form -->
    {% if sign_up %}
    <form action="{{ url_for('auth.sign_up') }}" method="post" class="space-y-4">
    {% else %}
    <form action="{{ url_for('auth.login') }}" method="post" class="space-y-4">
      {% endif %}
        <!-- username form -->
        <div>
          <label class="block text-sm font-[Proxima Nova] text-gray-700 mb-1">User ID</label>
          <input name="uid" required type="userID" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cougRed focus:border-cougCrimson text-black outline-none transition-all" placeholder="000000000"/>
        </div>

        <!-- Password -->
        <div>
          <label class="block text-sm font-[Proxima Nova] text-gray-700 mb-1">Password</label>
          <input name="pw" required type="password" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cougRed focus:border-cougCrimson text-black outline-none transition-all" placeholder="HuskiesStink1234#"/>
        </div>

        <!-- submit button -->
        <div class="flex justify-center pt-4">
          <button type="submit"
              class="w-full md:w-auto bg-cougar-red text-white px-6 py-2 rounded-lg
              hover:bg-cougar-crimson transition-colors font-medium">
              Submit
          </button>
        </div>
    </form>

    <!-- Not registered prompt - will eventually lead to user reg -->
    {% if not sign_up %}
      <div class="mt-6 text-center text-sm text-gray-600">Not registered?<a href="{{ url_for('auth.sign_up') }}" class="text-cougCrimson hover:text-cougRed font-medium"> Sign up</a></div>
    {% endif %}

    <!-- successful login screen -->
    {% else %}
      <div class="w-full max-w-md p-6">
          <h2 class="text-2xl text-gray-900 mb-4 text-center"><strong>{{username}}</strong> successfully logged in!</h2>

          <!-- log out form -->
          <form action="{{ url_for('auth.log_out') }}" method="post" class="space-y-2">
            <div class="grid grid-rows-2 gap-2 justify-center">
              <!-- option to go to admin dashboard -->
              <a href="{{ url_for('admin.admin_profile') }}" class="max-w-auto text-center bg-cougar-red text-white px-6 py-2 mt-4 rounded-lg
                hover:bg-cougar-crimson transition-colors font-medium">
                Go to dashboard
              </a>
              <!-- option to log out -->
              <button type="submit"
                class="w-full md:w-auto mt-2 text-center text-gray-900 hover:text-cougar-red font-bold">Log out?
              </button>
            </div>
          </form>
      </div>
    {% endif %}
    </div>
  </div>
</main>
{% endblock %}
